{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Get Prediction{% endblock %}</h1>
{% endblock %}

{% block content %}
<form method="post">
    <label for="model">Model</label>
        <select id="model" name="model" required>

                {% for model in models %}
            
                <option value="{{ model['model_name'] }}">{{ model['model_name'] }}</option>
                
                {% endfor %}

        </select>
    <label for="headline">Headline</label>
    <textarea name="headline" id="headline">{{ request.form['headline'] }}</textarea>
    <input type="submit" value="Predict">
  </form>
<form action="{{ url_for('result.clear_results') }}" method="post">
    <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
</form>
<h1>Results</h1>
  {% for post in posts %}
    <article class="post">
      <header>
        <div>
          <h1>Model: {{ post['model_name'] }} </h1>
          <div class="about">
              result was {{ post['result'] }} 
              at {{ post['generated'].strftime('%Y-%m-%d') }}
          </div>
        </div>
      </header>
      <p class="body">{{ post['input_text'] }}</p>
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}
{% endblock %}