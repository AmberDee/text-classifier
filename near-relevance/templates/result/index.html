{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Get Prediction{% endblock %}</h1>
{% endblock %}

{% block content %}
<form method="post">
    <label for="model">Model</label>
        <select id="model" name="model" required>

                {% for model in models %}
            
                <option value="{{ model['model_name'] }}">{{ model['model_name'] }}</option>
                
                {% endfor %}

        </select>
    <label for="headline">Headline</label>
    <textarea name="headline" id="headline">{{ request.form['headline'] }}</textarea>
    <input type="submit" value="Predict">
  </form>
<form action="{{ url_for('result.clear_results') }}" method="post">
    <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');">
</form>
<div>
<h1>Results</h1>
          <table class="table">
              <thead>
                  <tr>
                    <th scope="col">Model</th>
                    <th scope="col">Headline</th>
                    <th scope="col">Result</th>
                  </tr>
                </thead>
              <tbody>
                  {% for post in posts %}
                  <tr>
                      <th scope="row">{{ post['model_name'] }}</th>
                      <td>{{ post['input_text'] }}</td>
                      <td>{{ post['result'] }} </td>
                  </tr>
                    {% if not loop.last %}
                  {% endif %}
                  {% endfor %}
              </tbody>
          </table>
    </div>
{% endblock %}

